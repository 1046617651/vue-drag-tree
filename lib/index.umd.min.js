(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["index"]=t():e["index"]=t()})("undefined"!==typeof self?self:this,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fb15")}({"018d":function(e,t,n){},f6fd:function(e,t){(function(e){var t="currentScript",n=e.getElementsByTagName("script");t in e||Object.defineProperty(e,t,{get:function(){try{throw new Error}catch(r){var e,t=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(r.stack)||[!1])[1];for(e in n)if(n[e].src==t||"interactive"==n[e].readyState)return n[e];return null}}})})(document)},fb15:function(e,t,n){"use strict";var r;(n.r(t),"undefined"!==typeof window)&&(n("f6fd"),(r=window.document.currentScript)&&(r=r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(n.p=r[1]));var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"org-tree-container"},[n("div",{staticClass:"org-tree",class:[{"el-tree--highlight-current":e.highlightCurrent,"is-dragging":!!e.dragState.draggingNode,"is-drop-not-allow":e.dragState.allowDrop},e.direction],attrs:{role:"tree"}},[e._l(e.root.childNodes,(function(t){return n("tree-node",{key:e.getNodeKey(t),attrs:{node:t,props:e.props,"render-after-expand":e.renderAfterExpand,"render-content":e.renderContent},on:{"node-expand":e.handleNodeExpand}})})),e.isEmpty?n("div",{staticClass:"el-tree-node__empty-block"},[n("span",{staticClass:"el-tree-node__empty-text"},[e._v(e._s(e.emptyText))])]):e._e()],2)])},i=[],a="$treeNodeId",d=function(e,t){t&&!t[a]&&Object.defineProperty(t,a,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},s=function(e,t){return e?t[e]:t[a]},l=function(e,t){var n=e;while(n&&"BODY"!==n.tagName){if(n.__vue__&&n.__vue__.$options.name===t)return n.__vue__;n=n.parentNode}return null};function h(e,t){if(e){for(var n=e.className,r=(t||"").split(" "),o=0,i=r.length;o<i;o++){var a=r[o];a&&(e.classList?e.classList.add(a):hasClass(e,a)||(n+=" "+a))}e.classList||(e.className=n)}}function u(e,t){if(e&&t){for(var n=t.split(" "),r=" "+e.className+" ",o=0,i=n.length;o<i;o++){var a=n[o];a&&(e.classList?e.classList.remove(a):hasClass(e,a)&&(r=r.replace(" "+a+" "," ")))}e.classList||(e.className=trim(r))}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}function v(e){for(var t=1,n=arguments.length;t<n;t++){var r=arguments[t]||{};for(var o in r)if(r.hasOwnProperty(o)){var i=r[o];void 0!==i&&(e[o]=i)}}return e}var y=function(e,t){for(var n=0;n!==e.length;++n)if(t(e[n]))return n;return-1},g=function(e,t){var n=e.store.props,r=e.data||{},o=n[t];if("function"===typeof o)return o(r,e);if("string"===typeof o)return r[o];if("undefined"===typeof o){var i=r[t];return void 0===i?"":i}},N=0,C=function(){function e(t){for(var n in c(this,e),this.id=N++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,t)t.hasOwnProperty(n)&&(this[n]=t[n]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1);var r=this.store;if(!r)throw new Error("[Node]store is required!");r.registerNode(this);var o=r.props;if(o&&"undefined"!==typeof o.isLeaf){var i=g(this,"isLeaf");"boolean"===typeof i&&(this.isLeafByUser=i)}if(this.data?(this.setData(this.data),r.defaultExpandAll?this.expanded=!0:this.forEachNodeState(this)):this.level>0&&r.lazy&&r.defaultExpandAll&&this.expand(),Array.isArray(this.data)||d(this,this.data),this.data){var a=r.defaultExpandedKeys,s=r.key;s&&a&&-1!==a.indexOf(this.key)&&this.expand(null,r.autoExpandParent),s&&void 0!==r.currentNodeKey&&this.key===r.currentNodeKey&&(r.currentNode=this,r.currentNode.isCurrent=!0),this.updateLeafState()}}return p(e,[{key:"forEachNodeState",value:function(e){e.childNodes.length>0?e.expanded=!1:e.expanded=!0}},{key:"setData",value:function(e){var t;Array.isArray(e)||d(this,e),this.data=e,this.childNodes=[],t=0===this.level&&this.data instanceof Array?this.data:g(this,"children")||[];for(var n=0,r=t.length;n<r;n++)this.insertChild({data:t[n]})}},{key:"contains",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=function n(r){for(var o=r.childNodes||[],i=!1,a=0,d=o.length;a<d;a++){var s=o[a];if(s===e||t&&n(s)){i=!0;break}}return i};return n(this)}},{key:"remove",value:function(){var e=this.parent;e&&e.removeChild(this)}},{key:"insertChild",value:function(t,n,r){if(!t)throw new Error("insertChild error: child is required.");if(!(t instanceof e)){if(!r){var o=this.getChildren(!0);-1===o.indexOf(t.data)&&("undefined"===typeof n||n<0?o.push(t.data):o.splice(n,0,t.data))}v(t,{parent:this,store:this.store}),t=new e(t)}t.level=this.level+1,"undefined"===typeof n||n<0?this.childNodes.push(t):this.childNodes.splice(n,0,t),this.updateLeafState()}},{key:"insertBefore",value:function(e,t){var n;t&&(n=this.childNodes.indexOf(t)),this.insertChild(e,n)}},{key:"insertAfter",value:function(e,t){var n;t&&(n=this.childNodes.indexOf(t),-1!==n&&(n+=1)),this.insertChild(e,n)}},{key:"removeChild",value:function(e){var t=this.getChildren()||[],n=t.indexOf(e.data);n>-1&&t.splice(n,1);var r=this.childNodes.indexOf(e);r>-1&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(r,1)),this.updateLeafState()}},{key:"removeChildByData",value:function(e){for(var t=null,n=0;n<this.childNodes.length;n++)if(this.childNodes[n].data===e){t=this.childNodes[n];break}t&&this.removeChild(t)}},{key:"expand",value:function(e,t){var n=this,r=function(){if(t){var r=n.parent;while(r.level>0)r.expanded=!0,r=r.parent}n.expanded=!0,e&&e()};r()}},{key:"doCreateChildren",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach((function(e){t.insertChild(v({data:e},n),void 0,!0)}))}},{key:"collapse",value:function(){this.expanded=!1}},{key:"shouldLoadData",value:function(){return!0===this.store.lazy&&this.store.load&&!this.loaded}},{key:"updateLeafState",value:function(){if(!0!==this.store.lazy||!0===this.loaded||"undefined"===typeof this.isLeafByUser){var e=this.childNodes;!this.store.lazy||!0===this.store.lazy&&!0===this.loaded?this.isLeaf=!e||0===e.length:this.isLeaf=!1}else this.isLeaf=this.isLeafByUser}},{key:"getChildren",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(0===this.level)return this.data;var t=this.data;if(!t)return null;var n=this.store.props,r="children";return n&&(r=n.children||"children"),void 0===t[r]&&(t[r]=null),e&&!t[r]&&(t[r]=[]),t[r]}},{key:"updateChildren",value:function(){var e=this,t=this.getChildren()||[],n=this.childNodes.map((function(e){return e.data})),r={},o=[];t.forEach((function(e,t){var i=e[a],d=!!i&&y(n,(function(e){return e[a]===i}))>=0;d?r[i]={index:t,data:e}:o.push({index:t,data:e})})),this.store.lazy||n.forEach((function(t){r[t[a]]||e.removeChildByData(t)})),o.forEach((function(t){var n=t.index,r=t.data;e.insertChild({data:r},n)})),this.updateLeafState()}},{key:"loadData",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!0!==this.store.lazy||!this.store.load||this.loaded||this.loading&&!Object.keys(n).length)e&&e.call(this);else{this.loading=!0;var r=function(r){t.loaded=!0,t.loading=!1,t.childNodes=[],t.doCreateChildren(r,n),t.updateLeafState(),e&&e.call(t,r)};this.store.load(this,r)}}},{key:"label",get:function(){return g(this,"label")}},{key:"key",get:function(){var e=this.store.key;return this.data?this.data[e]:null}},{key:"disabled",get:function(){return g(this,"disabled")}},{key:"nextSibling",get:function(){var e=this.parent;if(e){var t=e.childNodes.indexOf(this);if(t>-1)return e.childNodes[t+1]}return null}},{key:"previousSibling",get:function(){var e=this.parent;if(e){var t=e.childNodes.indexOf(this);if(t>-1)return t>0?e.childNodes[t-1]:null}return null}}]),e}();function k(e){return k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e}var w=function(){function e(t){var n=this;for(var r in x(this,e),this.currentNode=null,this.currentNodeKey=null,t)t.hasOwnProperty(r)&&(this[r]=t[r]);if(this.nodesMap={},this.root=new C({data:this.data,store:this}),this.lazy&&this.load){var o=this.load;o(this.root,(function(e){n.root.doCreateChildren(e),n._initDefaultCheckedNodes()}))}else this._initDefaultCheckedNodes()}return b(e,[{key:"filter",value:function(e){var t=this.filterNodeMethod,n=this.lazy,r=function r(o){var i=o.root?o.root.childNodes:o.childNodes;if(i.forEach((function(n){n.visible=t.call(n,e,n.data,n),r(n)})),!o.visible&&i.length){var a=!0;a=!i.some((function(e){return e.visible})),o.root?o.root.visible=!1===a:o.visible=!1===a}e&&(!o.visible||o.isLeaf||n||o.expand())};r(this)}},{key:"setData",value:function(e){var t=e!==this.root.data;t?(this.root.setData(e),this._initDefaultCheckedNodes()):this.root.updateChildren()}},{key:"getNode",value:function(e){if(e instanceof C)return e;var t="object"!==k(e)?e:s(this.key,e);return this.nodesMap[t]||null}},{key:"insertBefore",value:function(e,t){var n=this.getNode(t);n.parent.insertBefore({data:e},n)}},{key:"insertAfter",value:function(e,t){var n=this.getNode(t);n.parent.insertAfter({data:e},n)}},{key:"remove",value:function(e){var t=this.getNode(e);t&&t.parent&&(t===this.currentNode&&(this.currentNode=null),t.parent.removeChild(t))}},{key:"append",value:function(e,t){var n=t?this.getNode(t):this.root;n&&n.insertChild({data:e})}},{key:"_initDefaultCheckedNodes",value:function(){var e=this,t=this.defaultCheckedKeys||[],n=this.nodesMap;t.forEach((function(t){var r=n[t];r&&r.setChecked(!0,!e.checkStrictly)}))}},{key:"_initDefaultCheckedNode",value:function(e){var t=this.defaultCheckedKeys||[];-1!==t.indexOf(e.key)&&e.setChecked(!0,!this.checkStrictly)}},{key:"setDefaultCheckedKey",value:function(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())}},{key:"registerNode",value:function(e){var t=this.key;if(t&&e&&e.data){var n=e.key;void 0!==n&&(this.nodesMap[e.key]=e)}}},{key:"deregisterNode",value:function(e){var t=this,n=this.key;n&&e&&e.data&&(e.childNodes.forEach((function(e){t.deregisterNode(e)})),delete this.nodesMap[e.key])}},{key:"getHalfCheckedNodes",value:function(){var e=[],t=function t(n){var r=n.root?n.root.childNodes:n.childNodes;r.forEach((function(n){n.indeterminate&&e.push(n.data),t(n)}))};return t(this),e}},{key:"getHalfCheckedKeys",value:function(){var e=this;return this.getHalfCheckedNodes().map((function(t){return(t||{})[e.key]}))}},{key:"_getAllNodes",value:function(){var e=[],t=this.nodesMap;for(var n in t)t.hasOwnProperty(n)&&e.push(t[n]);return e}},{key:"updateChildren",value:function(e,t){var n=this.nodesMap[e];if(n){for(var r=n.childNodes,o=r.length-1;o>=0;o--){var i=r[o];this.remove(i.data)}for(var a=0,d=t.length;a<d;a++){var s=t[a];this.append(s,n.data)}}}},{key:"_setCheckedKeys",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=this._getAllNodes().sort((function(e,t){return t.level-e.level})),o=Object.create(null),i=Object.keys(n);r.forEach((function(e){return e.setChecked(!1,!1)}));for(var a=0,d=r.length;a<d;a++){var s=r[a],l=s.data[e].toString(),h=i.indexOf(l)>-1;if(h){var u=s.parent;while(u&&u.level>0)o[u.data[e]]=!0,u=u.parent;s.isLeaf||this.checkStrictly?s.setChecked(!0,!1):(s.setChecked(!0,!0),t&&function(){s.setChecked(!1,!1);var e=function e(t){var n=t.childNodes;n.forEach((function(t){t.isLeaf||t.setChecked(!1,!1),e(t)}))};e(s)}())}else s.checked&&!o[l]&&s.setChecked(!1,!1)}}},{key:"setCheckedNodes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.key,r={};e.forEach((function(e){r[(e||{})[n]]=!0})),this._setCheckedKeys(n,t,r)}},{key:"setCheckedKeys",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.defaultCheckedKeys=e;var n=this.key,r={};e.forEach((function(e){r[e]=!0})),this._setCheckedKeys(n,t,r)}},{key:"setDefaultExpandedKeys",value:function(e){var t=this;e=e||[],this.defaultExpandedKeys=e,e.forEach((function(e){var n=t.getNode(e);n&&n.expand(null,t.autoExpandParent)}))}},{key:"setChecked",value:function(e,t,n){var r=this.getNode(e);r&&r.setChecked(!!t,n)}},{key:"getCurrentNode",value:function(){return this.currentNode}},{key:"setCurrentNode",value:function(e){var t=this.currentNode;t&&(t.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0}},{key:"setUserCurrentNode",value:function(e){var t=e[this.key],n=this.nodesMap[t];this.setCurrentNode(n)}},{key:"setCurrentNodeKey",value:function(e){if(null===e||void 0===e)return this.currentNode&&(this.currentNode.isCurrent=!1),void(this.currentNode=null);var t=this.getNode(e);t&&this.setCurrentNode(t)}}]),e}(),E=function(){var e=this,t=this,n=t.$createElement,r=t._self._c||n;return r("div",{directives:[{name:"show",rawName:"v-show",value:t.node.visible,expression:"node.visible"}],ref:"node",staticClass:"org-tree-node",class:{collapsed:!t.expanded,"is-hidden":!t.node.visible,"is-leaf":t.expanded},attrs:{role:"treeitem","aria-expanded":t.expanded,"aria-disabled":t.node.disabled,draggable:t.tree.draggable},on:{contextmenu:function(t){return e.handleContextMenu(t)},dragstart:function(e){return e.stopPropagation(),t.handleDragStart(e)},dragover:function(e){return e.stopPropagation(),t.handleDragOver(e)},dragend:function(e){return e.stopPropagation(),t.handleDragEnd(e)},drop:function(e){return e.stopPropagation(),t.handleDrop(e)}}},[r("div",{ref:"nodelabel",staticClass:"org-tree-node-label",on:{click:t.handleClick}},[t.node.childNodes&&t.node.childNodes.length>0?r("span",{class:["org-tree-node-btn",{"is-leaf":t.node.isLeaf,expanded:!t.node.isLeaf&&t.expanded},"org-tree-node__expand-icon"],on:{click:function(e){return e.stopPropagation(),t.handleExpandIconClick(e)}}}):t._e(),r("node-content",{attrs:{node:t.node}})],1),(!t.renderAfterExpand||t.childNodeRendered)&&t.node.childNodes.length>0?r("div",{directives:[{name:"show",rawName:"v-show",value:t.expanded,expression:"expanded"}],staticClass:"org-tree-node-children",attrs:{role:"group","aria-expanded":t.expanded}},t._l(t.node.childNodes,(function(e){return r("tree-node",{key:t.getNodeKey(e),attrs:{"render-content":t.renderContent,"render-after-expand":t.renderAfterExpand,node:e},on:{"node-expand":t.handleChildNodeExpand}})})),1):t._e()])},_=[];function K(e,t,n){this.$children.forEach((function(r){var o=r.$options.componentName;o===e?r.$emit.apply(r,[t].concat(n)):K.apply(r,[e,t].concat([n]))}))}var $,D,S={methods:{dispatch:function(e,t,n){var r=this.$parent||this.$root,o=r.$options.componentName;while(r&&(!o||o!==e))r=r.$parent,r&&(o=r.$options.componentName);r&&r.$emit.apply(r,[t].concat(n))},broadcast:function(e,t,n){K.call(this,e,t,n)}}},O={name:"NodeContent",props:{node:{type:Object,required:!0}},render:function(e){var t=this.$parent,n=t.tree,r=this.node,o=r.data,i=r.store;return t.renderContent?t.renderContent.call(t._renderProxy,e,{_self:n.$vnode.context,node:r,data:o,store:i}):n.$scopedSlots.default?n.$scopedSlots.default({node:r,data:o}):e("span",{class:"org-tree-node-label-inner"},[r.label])}},T=O;function A(e,t,n,r,o,i,a,d){var s,l="function"===typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),i&&(l._scopeId="data-v-"+i),a?(s=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},l._ssrRegister=s):o&&(s=d?function(){o.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:o),s)if(l.functional){l._injectStyles=s;var h=l.render;l.render=function(e,t){return s.call(t),h(e,t)}}else{var u=l.beforeCreate;l.beforeCreate=u?[].concat(u,s):[s]}return{exports:e,options:l}}var L=A(T,$,D,!1,null,null,null),P=L.exports,B={name:"TreeNode",componentName:"TreeNode",components:{NodeContent:P},mixins:[S],props:{node:{default:function(){return{}}},props:{},renderContent:Function,renderAfterExpand:{type:Boolean,default:!0}},data:function(){return{tree:null,expanded:!1,childNodeRendered:!1,leaf:!1}},watch:{"node.expanded":function(e){var t=this;this.$nextTick((function(){t.expanded=e})),e&&(this.childNodeRendered=!0)}},created:function(){var e=this,t=this.$parent;t.isTree?this.tree=t:this.tree=t.tree;var n=this.tree,r=n.props||{},o=r["children"]||"children";this.$watch("node.data.".concat(o),(function(){e.node.updateChildren()})),this.node.expanded&&(this.expanded=!0,this.childNodeRendered=!0),this.tree.accordion&&this.$on("tree-node-expand",(function(t){e.node!==t&&e.node.childNodes.length>0&&e.node.collapse()}))},methods:{getNodeKey:function(e){return s(this.tree.nodeKey,e.data)},handleClick:function(){var e=this.tree.store;e.setCurrentNode(this.node),this.tree.$emit("current-change",e.currentNode?e.currentNode.data:null,e.currentNode),this.tree.currentNode=this,this.tree.expandOnClickNode&&this.handleExpandIconClick(),this.tree.$emit("node-click",this.node.data,this.node,this)},handleContextMenu:function(e){this.tree._events["node-contextmenu"]&&this.tree._events["node-contextmenu"].length>0&&(e.stopPropagation(),e.preventDefault()),this.tree.$emit("node-contextmenu",e,this.node.data,this.node,this)},handleExpandIconClick:function(){this.node.isLeaf||(this.expanded?(this.tree.$emit("node-collapse",this.node.data,this.node,this),this.node.collapse()):(this.node.expand(),this.$emit("node-expand",this.node.data,this.node,this)))},handleChildNodeExpand:function(e,t,n){this.broadcast("TreeNode","tree-node-expand",t),this.tree.$emit("node-expand",e,t,n)},handleDragStart:function(e){this.tree.draggable&&this.tree.$emit("tree-node-drag-start",e,this)},handleDragOver:function(e){this.tree.draggable&&(this.tree.$emit("tree-node-drag-over",e,this),e.preventDefault())},handleDrop:function(e){e.preventDefault()},handleDragEnd:function(e){this.tree.draggable&&this.tree.$emit("tree-node-drag-end",e,this)}}},j=B,M=A(j,E,_,!1,null,null,null),I=M.exports,q={name:"VueDragTreeOrg",components:{TreeNode:I},mixins:[S],props:{data:{type:Array},direction:{type:String,default:function(){return""}},emptyText:{type:String,default:function(){return""}},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,defaultExpandAll:{type:Boolean,default:!1},expandOnClickNode:{type:Boolean,default:!0},checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{default:function(){return{children:"children",label:"label"}}},highlightCurrent:Boolean,accordion:Boolean,iconClass:String},data:function(){return{store:null,root:null,currentNode:null,treeItems:null,checkboxItems:[],dragState:{draggingNode:null,dropNode:null,allowDrop:!0}}},computed:{children:{set:function(e){this.data=e},get:function(){return this.data}},treeItemArray:function(){return Array.prototype.slice.call(this.treeItems)},isEmpty:function(){var e=this.root.childNodes;return!e||0===e.length||e.every((function(e){var t=e.visible;return!t}))}},watch:{defaultExpandedKeys:function(e){this.store.defaultExpandedKeys=e,this.store.setDefaultExpandedKeys(e)},data:function(e){this.store.setData(e)},checkboxItems:function(e){Array.prototype.forEach.call(e,(function(e){e.setAttribute("tabindex",-1)}))}},created:function(){var e=this;this.isTree=!0,this.store=new w({key:this.nodeKey,data:this.data,props:this.props,currentNodeKey:this.currentNodeKey,defaultExpandedKeys:this.defaultExpandedKeys,autoExpandParent:this.autoExpandParent,defaultExpandAll:this.defaultExpandAll}),this.root=this.store.root;var t=this.dragState;this.$on("tree-node-drag-start",(function(n,r){if("function"===typeof e.allowDrag&&!e.allowDrag(r.node))return n.preventDefault(),!1;n.dataTransfer.effectAllowed="move";try{n.dataTransfer.setData("text/plain","")}catch(o){}t.draggingNode=r,e.$emit("node-drag-start",r.node,n)})),this.$on("tree-node-drag-over",(function(n,r){var o=l(n.target,"TreeNode"),i=t.dropNode;i&&i!==o&&u(i.$refs.nodelabel,"is-drop-inner");var a=t.draggingNode;if(a&&o){var d=!0,s=!0,c=!0,f=!0;"function"===typeof e.allowDrop&&(d=e.allowDrop(a.node,o.node,"prev"),f=s=e.allowDrop(a.node,o.node,"inner"),c=e.allowDrop(a.node,o.node,"next")),n.dataTransfer.dropEffect=s?"move":"none",(d||s||c)&&i!==o&&(i&&e.$emit("node-drag-leave",a.node,i.node,n),e.$emit("node-drag-enter",a.node,o.node,n)),(d||s||c)&&(t.dropNode=o),o.node.nextSibling===a.node&&(c=!1),o.node.previousSibling===a.node&&(d=!1),o.node.contains(a.node,!1)&&(s=!1),(a.node===o.node||a.node.contains(o.node))&&(d=!1,s=!1,c=!1);var p,v=o.$refs.nodelabel.getBoundingClientRect(),y=d?s?.25:c?.45:1:-1,g=c?s?.75:d?.55:0:1,N=n.clientY-v.top;p=N<v.height*y?"before":N>v.height*g?"after":s?"inner":"none","inner"===p?h(o.$refs.nodelabel,"is-drop-inner"):u(o.$refs.nodelabel,"is-drop-inner"),t.showDropIndicator="before"===p||"after"===p,t.allowDrop=t.showDropIndicator||f,t.dropType=p,e.$emit("node-drag-over",a.node,o.node,n)}})),this.$on("tree-node-drag-end",(function(n){var r=t.draggingNode,o=t.dropType,i=t.dropNode;if(n.preventDefault(),n.dataTransfer.dropEffect="move",r&&i){var a={data:r.node.data};"none"!==o&&r.node.remove(),"before"===o?i.node.parent.insertBefore(a,i.node):"after"===o?i.node.parent.insertAfter(a,i.node):"inner"===o&&i.node.insertChild(a),"none"!==o&&e.store.registerNode(a),u(i.$refs.nodelabel,"is-drop-inner"),e.$emit("node-drag-end",r.node,i.node,o,n),"none"!==o&&e.$emit("node-drop",r.node,i.node,o,n)}r&&!i&&e.$emit("node-drag-end",r.node,null,o,n),t.draggingNode=null,t.dropNode=null,t.allowDrop=!0}))},mounted:function(){},updated:function(){this.treeItems=this.$el.querySelectorAll("[role=treeitem]")},methods:{getNodeKey:function(e){return s(this.nodeKey,e.data)},getNodePath:function(e){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");var t=this.store.getNode(e);if(!t)return[];var n=[t.data],r=t.parent;while(r&&r!==this.root)n.push(r.data),r=r.parent;return n.reverse()},getCheckedNodes:function(e,t){return this.store.getCheckedNodes(e,t)},getCheckedKeys:function(e){return this.store.getCheckedKeys(e)},getCurrentNode:function(){var e=this.store.getCurrentNode();return e?e.data:null},getCurrentKey:function(){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");var e=this.getCurrentNode();return e?e[this.nodeKey]:null},setCheckedNodes:function(e,t){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");this.store.setCheckedNodes(e,t)},setCheckedKeys:function(e,t){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");this.store.setCheckedKeys(e,t)},setChecked:function(e,t,n){this.store.setChecked(e,t,n)},getHalfCheckedNodes:function(){return this.store.getHalfCheckedNodes()},getHalfCheckedKeys:function(){return this.store.getHalfCheckedKeys()},setCurrentNode:function(e){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");this.store.setUserCurrentNode(e)},setCurrentKey:function(e){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");this.store.setCurrentNodeKey(e)},getNode:function(e){return this.store.getNode(e)},remove:function(e){this.store.remove(e)},append:function(e,t){this.store.append(e,t)},insertBefore:function(e,t){this.store.insertBefore(e,t)},insertAfter:function(e,t){this.store.insertAfter(e,t)},handleNodeExpand:function(e,t,n){this.broadcast("TreeNode","tree-node-expand",t),this.$emit("node-expand",e,t,n)},updateKeyChildren:function(e,t){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");this.store.updateChildren(e,t)}}},R=q,z=A(R,o,i,!1,null,null,null),H=z.exports;n("018d");function U(e){U.installed||(U.installed=!0,e.component(H.name,H))}H.install=U,"undefined"!==typeof window&&window.Vue&&window.Vue.use(H);var V=H,F=[V],X=function e(t){e.installed||F.forEach((function(e){t.component(e.name,e),t.use(e)}))};"undefined"!==typeof window&&window.Vue&&X(window.Vue);var Y=V;t["default"]=Y}})}));